(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{9253:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var a=t(7294),i=t(1163),r=t(1585),u=t(5834),l=t(2107),o=t(9895),s=t(1749),c=t(282),d=t(2418),f=t.n(d),m=t(5893);function h(){var e=(0,a.useState)(""),n=e[0],t=e[1],d=(0,a.useState)(""),h=d[0],p=d[1],x=(0,a.useState)(""),v=x[0],g=x[1],j=(0,a.useState)(""),y=j[0],Z=j[1],w=(0,a.useState)(!1),C=w[0],N=w[1],S=(0,i.useRouter)();return(0,m.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:400},children:[(0,m.jsx)(u.ZP,{}),(0,m.jsx)(l.Z,{variant:"h4",align:"center",component:"h1",gutterBottom:!0,children:"\ud83c\udfb8 Sign Up for TuneIn!"}),(0,m.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,m.jsx)(o.Z,{style:{margin:"0 auto",padding:16},children:(0,m.jsxs)(s.Z,{container:!0,alignItems:"flex-start",spacing:2,children:[(0,m.jsx)(s.Z,{item:!0,xs:12,children:C?(0,m.jsx)(r.Z,{error:!0,autoComplete:"email",name:"email",fullWidth:!0,helperText:"Account with email already exists",required:!0,type:"email",label:"Email",onChange:function(e){return t(e.target.value)},value:n,variant:"outlined"}):(0,m.jsx)(r.Z,{autoComplete:"email",name:"email",fullWidth:!0,required:!0,type:"email",label:"Email",onChange:function(e){return t(e.target.value)},value:n,variant:"outlined"})}),(0,m.jsx)(s.Z,{item:!0,xs:12,children:(0,m.jsx)(r.Z,{fullWidth:!0,required:!0,name:"firstName",type:"text",label:"First Name",onChange:function(e){return p(e.target.value)},value:h,variant:"outlined"})}),(0,m.jsx)(s.Z,{item:!0,xs:12,children:(0,m.jsx)(r.Z,{fullWidth:!0,required:!0,name:"lastName",type:"text",label:"Last Name",onChange:function(e){return g(e.target.value)},value:v,variant:"outlined"})}),(0,m.jsx)(s.Z,{item:!0,xs:12,children:(0,m.jsx)(r.Z,{autoComplete:"new-password",name:"password",fullWidth:!0,required:!0,type:"password",label:"Password",onChange:function(e){return Z(e.target.value)},value:y,variant:"outlined"})}),(0,m.jsx)(s.Z,{container:!0,justifyContent:"center",children:(0,m.jsx)(c.Z,{type:"submit",variant:"outlined",color:"primary",onClick:function(e){return e.preventDefault(),fetch("/api/createUser",{body:JSON.stringify({email:n,firstName:h,lastName:v,password:f().hashSync(y,f().genSaltSync()),emailValidated:!1}),headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){e.json().then((function(e){e.isNewEmail?(S.push({pathname:"/email/validate/validate",query:{id:e.confirmationURL}}),console.log("TRUE")):(N(!0),console.log("FALSE"))}))}))},disabled:!(n&&h&&v&&y),children:"Sign Up"})})]})})})]})}var p=function(){return(0,m.jsx)(h,{})}},6989:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(9253)}])},950:function(){},6601:function(){},9214:function(){},8623:function(){},7748:function(){},5568:function(){},6619:function(){},7108:function(){},2361:function(){},4616:function(){}},function(e){e.O(0,[282,945,70,774,888,179],(function(){return n=6989,e(e.s=n);var n}));var n=e.O();_N_E=n}]);